//
//   Generates a media query based on a list of conditions
//
//   @param {Arglist}   $conditions  - Media query conditions
//
//   @example scss - With a single set breakpoint
//      @include media('>m') { }
//
//   @example scss - With two set breakpoints
//      @include media('>m', '<=l') { }
//
//   @example scss - With a static expression
//      @include media('retina2x') { }
//
//   @example scss - Mixing everything
//      @include media('>=m', '<xl', 'retina3x') { }
//
@use '../api/breakpoint';
@use 'commons';

$boxmodels-in-media: false;
@mixin media($conditions...) {
  $boxmodels-in-breakpoint: true !global;
  @if length($conditions) == 0 {
    @content;
    $boxmodels-in-breakpoint: false !global;
  } @else if length($conditions) > 0 {
    @media #{unquote(breakpoint.breakpoint(nth($conditions, 1)))} {
      // Recursive call
      @include media(commons.list-slice($conditions, 2) ...) {
        @content;
        $boxmodels-in-breakpoint: false !global;
      }
    }
  }
}
